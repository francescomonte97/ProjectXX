








document.addEventListener("DOMContentLoaded", () => {
  const section = document.getElementById("magic-text");

  const observer = new IntersectionObserver((entries) => {
    entries.forEach((entry) => {
      if (entry.isIntersecting) {
        section.classList.remove("hidden");
        section.classList.add("visible");
      } else {
        section.classList.remove("visible");
        section.classList.add("hidden");
      }
    });
  }, { threshold: 0.3 });

  observer.observe(section);
});






document.getElementById("menu-toggle").addEventListener("click", () => {
  const menuList = document.getElementById("menu-list");
  menuList.style.display = menuList.style.display === "block" ? "none" : "block";
});


window.addEventListener("scroll", () => {
  const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
  const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  const scrollPercentage = (scrollTop / scrollHeight) * 100;

  document.getElementById("scroll-progress").style.width = scrollPercentage + "%";
});





document.addEventListener("DOMContentLoaded", () => {
  const menuToggle = document.getElementById("menu-toggle");
  const menuList = document.getElementById("menu-list");
  const overlay = document.createElement("div");

  // Creazione e aggiunta dell'overlay
  overlay.id = "overlay";
  document.body.appendChild(overlay);

  // Imposta lo stile dell'overlay direttamente in JS
  Object.assign(overlay.style, {
    position: "fixed",
    top: "0",
    left: "0",
    width: "100%",
    height: "100%",
    background: "rgba(0, 0, 0, 0.6)",
    backdropFilter: "blur(8px)",
    zIndex: "999",
    display: "none",
    transition: "opacity 0.3s ease-in-out"
  });

  // Gestione dell'apertura e chiusura del menù e overlay
  menuToggle.addEventListener("click", () => {
  const isOpen = document.body.classList.toggle("menu-open");

  // Alterna visibilità del menù e dell'overlay
  menuList.style.display = isOpen ? "block" : "none";
  overlay.style.display = isOpen ? "block" : "none";
  menuToggle.classList.toggle("open", isOpen);

  // **Blocca lo scrolling quando il menù è aperto**
  document.body.style.overflow = isOpen ? "hidden" : "auto";
  document.documentElement.style.overflow = isOpen ? "hidden" : "auto";
});
  
  


  // Chiude il menù quando si clicca fuori
  overlay.addEventListener("click", () => {
    document.body.classList.remove("menu-open");
    menuList.style.display = "none";
    overlay.style.display = "none";
    menuToggle.classList.remove("open");
    
    document.body.style.overflow = "auto";
document.documentElement.style.overflow = "auto";
  });

  // Barra di scorrimento sticky
  window.addEventListener("scroll", () => {
    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    const scrollPercentage = (scrollTop / scrollHeight) * 100;

    document.getElementById("scroll-progress").style.width = scrollPercentage + "%";
  });
});







document.addEventListener("DOMContentLoaded", () => {
  const scrollHint = document.getElementById("scroll-hint");

  window.addEventListener("scroll", () => {
    if (window.scrollY > 50 && scrollHint.style.opacity !== "0") {
      scrollHint.style.opacity = "0"; // Fade-out
      setTimeout(() => {
        scrollHint.style.display = "none"; // Nasconde completamente
      }, 500);
    } else if (window.scrollY <= 1 && scrollHint.style.display === "none") {
      scrollHint.style.display = "block";
      scrollHint.style.opacity = "0"; // Inizia invisibile
      setTimeout(() => {
        scrollHint.style.opacity = "1"; // Fade-in graduale
      }, 100);
    }
  });
});





document.addEventListener("DOMContentLoaded", () => {
  const menuToggle = document.getElementById("menu-toggle");
  let hideTimer;

  // Doppio clic nella parte alta dello schermo per attivare il bottone
  document.addEventListener("dblclick", (event) => {
    if (event.clientY < 50) {
      menuToggle.style.display = "flex"; // Mostra il bottone
      menuToggle.style.opacity = "1"; // Fade-in

      // Cancella eventuali timer precedenti
      clearTimeout(hideTimer);

      // Dopo 5 secondi, fade-out e nascondimento
      hideTimer = setTimeout(() => {
        menuToggle.style.opacity = "0"; // Fade-out
        setTimeout(() => {
          menuToggle.style.display = "none"; // Nasconde completamente
        }, 500); // Aspetta mezzo secondo per completare il fade-out
      }, 5000);
    }
  });
});